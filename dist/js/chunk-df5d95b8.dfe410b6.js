(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-df5d95b8"],{"20e6":function(e,t,r){"use strict";r.r(t);var o=r("7a23"),n={class:"row w-100 services-add-wrapper p-0 m-0"},c={class:"col-sm-12 col-lg-6 col-md-8 offset-lg-3 offset-md-2 offset-sm-12 services-add-form p-0"},i=Object(o["h"])("h5",{class:"text-center bg-light w-100 py-3"},"New Service",-1),l={class:"form-floating mb-3"},a=Object(o["h"])("label",{for:"vehicle-no"},"Vehicle No",-1),s={class:"form-floating mb-3"},u=Object(o["h"])("label",{for:"customer-name"},"Customer Name",-1),p={class:"form-floating mb-3"},f=Object(o["h"])("label",{for:"phone-no"},"Phone Number",-1),d={class:"form-floating mb-3"},b=Object(o["h"])("label",{for:"bill-no"},"Bill Number",-1),m={class:"form-floating mb-3"},h=Object(o["h"])("label",{for:"bill-amount"},"Bill Amount",-1),g={key:0,class:"mb-3 p-0"},v=Object(o["h"])("p",{class:"p-0 m-2"},[Object(o["h"])("label",{for:"bill-photo"},"Bill Photo Copy")],-1),y={key:1,class:"bill-preview border p-2"},j=["src"],O={class:"d-grid fixed-bottom p-2 bg-white"},w={type:"submit",class:"btn btn-primary btn-lg"},k={key:0,class:"spinner-border spinner-border-sm text-light",role:"status"},N=Object(o["h"])("span",{class:"ms-3"}," Add Service +",-1);function X(e,t,r,X,x,F){return Object(o["t"])(),Object(o["g"])("main",null,[Object(o["h"])("div",n,[Object(o["h"])("div",c,[i,Object(o["h"])("form",{onSubmit:t[6]||(t[6]=Object(o["J"])((function(e){return F.addService()}),["prevent"])),class:"p-2 mb-5",autocomplete:"off",ref:"serviceForm"},[Object(o["h"])("div",l,[Object(o["I"])(Object(o["h"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return x.vehicle.vehicleNo=e}),type:"text",class:"form-control form-control-lg text-uppercase",id:"vehicle-no",placeholder:"HRXXXXXX",required:""},null,512),[[o["F"],x.vehicle.vehicleNo]]),a]),this.vehicle.vehicleNo?(Object(o["t"])(),Object(o["g"])(o["a"],{key:0},[Object(o["h"])("div",s,[Object(o["I"])(Object(o["h"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return x.vehicle.customerName=e}),type:"text",class:"form-control form-control-lg",id:"customer-name",placeholder:"HRXXXXXX",required:""},null,512),[[o["F"],x.vehicle.customerName]]),u]),Object(o["h"])("div",p,[Object(o["I"])(Object(o["h"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return x.vehicle.phoneNumber=e}),type:"tel",maxlength:"10",minlength:"10",required:"",class:"form-control form-control-lg",id:"phone-no",placeholder:"HRXXXXXX"},null,512),[[o["F"],x.vehicle.phoneNumber]]),f]),Object(o["h"])("div",d,[Object(o["I"])(Object(o["h"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return x.vehicle.billNumber=e}),type:"number",required:"",class:"form-control form-control-lg",id:"bill-no",placeholder:"HRXXXXXX"},null,512),[[o["F"],x.vehicle.billNumber]]),b]),Object(o["h"])("div",m,[Object(o["I"])(Object(o["h"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return x.vehicle.billAmount=e}),type:"number",class:"form-control form-control-lg",id:"bill-amount",placeholder:"HRXXXXXX"},null,512),[[o["F"],x.vehicle.billAmount]]),h]),x.vehicle.billNumber?(Object(o["t"])(),Object(o["g"])("div",g,[v,Object(o["h"])("input",{type:"file",class:"form-control form-control-lg",id:"bill-photo",placeholder:"HRXXXXXX",onChange:t[5]||(t[5]=function(e){return F.uploadImage(e)})},null,32)])):Object(o["f"])("",!0)],64)):Object(o["f"])("",!0),x.billPreview?(Object(o["t"])(),Object(o["g"])("div",y,[Object(o["h"])("img",{class:"img-fluid img-thumbnail",src:x.billPreview,alt:""},null,8,j)])):Object(o["f"])("",!0),Object(o["h"])("div",O,[Object(o["h"])("button",w,[x.loading&&!x.vehicle.billPhoto?(Object(o["t"])(),Object(o["g"])("span",k)):Object(o["f"])("",!0),N])])],544)])])])}var x=r("1da1"),F=(r("96cf"),r("4d6e")),S=(r("72bf"),r("8017"),{data:function(){return{vehicle:{vehicleNo:"",customerName:"",phoneNumber:"",billNumber:"",billAmount:"",billPhoto:""},loading:!1,billPreview:""}},created:function(){var e=this.$route.query;e.vehicleNo&&(this.vehicle.vehicleNo=e.vehicleNo)},methods:{uploadImage:function(e){var t=this;this.loading=!0;var r=e.target.files[0],o=new FileReader;o.readAsDataURL(r),o.onload=function(e){t.billPreview=e.target.result,t.vehicle.billPhoto=e.target.result,t.compress(t.vehicle.billPhoto),t.loading=!1}},compress:function(e){this.vehicle.billPhoto=e||encode},addService:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,console.log(e.vehicle),t.next=4,F["a"].post("/vehicles/addService",e.vehicle);case 4:r=t.sent,r.data.success?(alert("Service Added"),e.$router.push({path:"/service/"+e.vehicle.vehicleNo}),e.loading=!1,e.vehicle={},e.billPreview=""):(alert("Something went wrong!"),e.loading=!1,e.vehicle={},e.billPreview="");case 6:case"end":return t.stop()}}),t)})))()}}}),I=r("6b0d"),R=r.n(I);const A=R()(S,[["render",X]]);t["default"]=A},6453:function(e,t,r){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())},"72bf":function(e,t,r){"use strict";const o=r("6453"),n=r("f234"),c=r("f32c"),i=r("7348"),l=e=>null===e||void 0===e,a=Symbol("encodeFragmentIdentifier");function s(e){switch(e.arrayFormat){case"index":return t=>(r,o)=>{const n=r.length;return void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:null===o?[...r,[f(t,e),"[",n,"]"].join("")]:[...r,[f(t,e),"[",f(n,e),"]=",f(o,e)].join("")]};case"bracket":return t=>(r,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:null===o?[...r,[f(t,e),"[]"].join("")]:[...r,[f(t,e),"[]=",f(o,e)].join("")];case"colon-list-separator":return t=>(r,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:null===o?[...r,[f(t,e),":list="].join("")]:[...r,[f(t,e),":list=",f(o,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(o,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?o:(n=null===n?"":n,0===o.length?[[f(r,e),t,f(n,e)].join("")]:[[o,f(n,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:null===o?[...r,f(t,e)]:[...r,[f(t,e),"=",f(o,e)].join("")]}}function u(e){let t;switch(e.arrayFormat){case"index":return(e,r,o)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===o[e]&&(o[e]={}),o[e][t[1]]=r):o[e]=r};case"bracket":return(e,r,o)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==o[e]?o[e]=[].concat(o[e],r):o[e]=[r]:o[e]=r};case"colon-list-separator":return(e,r,o)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==o[e]?o[e]=[].concat(o[e],r):o[e]=[r]:o[e]=r};case"comma":case"separator":return(t,r,o)=>{const n="string"===typeof r&&r.includes(e.arrayFormatSeparator),c="string"===typeof r&&!n&&d(r,e).includes(e.arrayFormatSeparator);r=c?d(r,e):r;const i=n||c?r.split(e.arrayFormatSeparator).map(t=>d(t,e)):null===r?r:d(r,e);o[t]=i};case"bracket-separator":return(t,r,o)=>{const n=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!n)return void(o[t]=r?d(r,e):r);const c=null===r?[]:r.split(e.arrayFormatSeparator).map(t=>d(t,e));void 0!==o[t]?o[t]=[].concat(o[t],c):o[t]=c};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}function p(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function f(e,t){return t.encode?t.strict?o(e):encodeURIComponent(e):e}function d(e,t){return t.decode?n(e):e}function b(e){return Array.isArray(e)?e.sort():"object"===typeof e?b(Object.keys(e)).sort((e,t)=>Number(e)-Number(t)).map(t=>e[t]):e}function m(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function h(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}function g(e){e=m(e);const t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function v(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function y(e,t){t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t),p(t.arrayFormatSeparator);const r=u(t),o=Object.create(null);if("string"!==typeof e)return o;if(e=e.trim().replace(/^[?#&]/,""),!e)return o;for(const n of e.split("&")){if(""===n)continue;let[e,i]=c(t.decode?n.replace(/\+/g," "):n,"=");i=void 0===i?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?i:d(i,t),r(d(e,t),i,o)}for(const n of Object.keys(o)){const e=o[n];if("object"===typeof e&&null!==e)for(const r of Object.keys(e))e[r]=v(e[r],t);else o[n]=v(e,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce((e,t)=>{const r=o[t];return Boolean(r)&&"object"===typeof r&&!Array.isArray(r)?e[t]=b(r):e[t]=r,e},Object.create(null))}t.extract=g,t.parse=y,t.stringify=(e,t)=>{if(!e)return"";t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t),p(t.arrayFormatSeparator);const r=r=>t.skipNull&&l(e[r])||t.skipEmptyString&&""===e[r],o=s(t),n={};for(const i of Object.keys(e))r(i)||(n[i]=e[i]);const c=Object.keys(n);return!1!==t.sort&&c.sort(t.sort),c.map(r=>{const n=e[r];return void 0===n?"":null===n?f(r,t):Array.isArray(n)?0===n.length&&"bracket-separator"===t.arrayFormat?f(r,t)+"[]":n.reduce(o(r),[]).join("&"):f(r,t)+"="+f(n,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[r,o]=c(e,"#");return Object.assign({url:r.split("?")[0]||"",query:y(g(e),t)},t&&t.parseFragmentIdentifier&&o?{fragmentIdentifier:d(o,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0,[a]:!0},r);const o=m(e.url).split("?")[0]||"",n=t.extract(e.url),c=t.parse(n,{sort:!1}),i=Object.assign(c,e.query);let l=t.stringify(i,r);l&&(l="?"+l);let s=h(e.url);return e.fragmentIdentifier&&(s="#"+(r[a]?f(e.fragmentIdentifier,r):e.fragmentIdentifier)),`${o}${l}${s}`},t.pick=(e,r,o)=>{o=Object.assign({parseFragmentIdentifier:!0,[a]:!1},o);const{url:n,query:c,fragmentIdentifier:l}=t.parseUrl(e,o);return t.stringifyUrl({url:n,query:i(c,r),fragmentIdentifier:l},o)},t.exclude=(e,r,o)=>{const n=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return t.pick(e,n,o)}},7348:function(e,t,r){"use strict";e.exports=function(e,t){for(var r={},o=Object.keys(e),n=Array.isArray(t),c=0;c<o.length;c++){var i=o[c],l=e[i];(n?-1!==t.indexOf(i):t(i,l,e))&&(r[i]=l)}return r}},f234:function(e,t,r){"use strict";var o="%[a-f0-9]{2}",n=new RegExp(o,"gi"),c=new RegExp("("+o+")+","gi");function i(e,t){try{return decodeURIComponent(e.join(""))}catch(n){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),o=e.slice(t);return Array.prototype.concat.call([],i(r),i(o))}function l(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(n),r=1;r<t.length;r++)e=i(t,r).join(""),t=e.match(n);return e}}function a(e){var t={"%FE%FF":"��","%FF%FE":"��"},r=c.exec(e);while(r){try{t[r[0]]=decodeURIComponent(r[0])}catch(s){var o=l(r[0]);o!==r[0]&&(t[r[0]]=o)}r=c.exec(e)}t["%C2"]="�";for(var n=Object.keys(t),i=0;i<n.length;i++){var a=n[i];e=e.replace(new RegExp(a,"g"),t[a])}return e}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return a(e)}}},f32c:function(e,t,r){"use strict";e.exports=(e,t)=>{if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}}}]);
//# sourceMappingURL=chunk-df5d95b8.dfe410b6.js.map
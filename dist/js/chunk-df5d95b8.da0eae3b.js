(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-df5d95b8"],{"20e6":function(e,t,r){"use strict";r.r(t);var c=r("7a23"),o={class:"row w-100 services-add-wrapper p-0 m-0"},l={class:"col-sm-12 col-lg-6 col-md-8 offset-lg-3 offset-md-2 offset-sm-12 services-add-form p-0"},n=Object(c["h"])("h5",{class:"text-center bg-light w-100 py-3"},"New Service",-1),i={class:"form-floating mb-3"},a=Object(c["h"])("label",{for:"vehicle-no"},"Vehicle No",-1),s={class:"form-floating mb-3"},u=Object(c["h"])("label",{for:"vehicle-no"},"Model",-1),p={class:"form-floating mb-3"},d=Object(c["h"])("label",{for:"vehicle-km"},"Km",-1),b={class:"form-floating mb-3"},f=Object(c["h"])("label",{for:"vehicle-service-date"},"Service Date",-1),m={class:"d-flex p-2 py-3 border mb-3"},h=Object(c["h"])("p",{class:"m-0 me-3"},"Service Stype :",-1),v={class:"form-group d-flex"},g={class:"form-check me-3"},j=Object(c["h"])("label",{class:"form-check-label",for:"PS-service"}," P/S ",-1),y={class:"form-check"},O=Object(c["h"])("label",{class:"form-check-label",for:"RR-service"}," R/R ",-1),k={class:"form-floating mb-3"},w=Object(c["h"])("label",{for:"customer-name"},"Customer Name",-1),x={class:"form-floating mb-3"},N=Object(c["h"])("label",{for:"phone-no"},"Phone Number",-1),F={class:"form-floating mb-3"},X=Object(c["h"])("label",{for:"bill-no"},"Bill Number",-1),S={class:"form-floating mb-3"},R=Object(c["h"])("label",{for:"bill-amount"},"Bill Amount",-1),U={key:0,class:"mb-3 p-0"},A=Object(c["h"])("p",{class:"p-0 m-2"},[Object(c["h"])("label",{for:"bill-photo"},"Bill Photo Copy")],-1),E={key:1,class:"bill-preview border p-2"},I=["src"],P={key:2,class:"d-grid fixed-bottom p-2 bg-white"},C={type:"submit",class:"btn btn-primary btn-lg"},$={key:0,class:"spinner-border spinner-border-sm text-light",role:"status"},J=Object(c["h"])("span",{class:"ms-3"}," Add Service +",-1);function T(e,t,r,T,q,V){return Object(c["t"])(),Object(c["g"])("main",null,[Object(c["h"])("div",o,[Object(c["h"])("div",l,[n,Object(c["h"])("form",{onSubmit:t[11]||(t[11]=Object(c["K"])((function(e){return V.addService()}),["prevent"])),class:"p-2 mb-5",autocomplete:"off",ref:"serviceForm"},[Object(c["h"])("div",i,[Object(c["J"])(Object(c["h"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return q.vehicle.vehicleNo=e}),type:"text",class:"form-control form-control-lg text-uppercase",id:"vehicle-no",placeholder:"HRXXXXXX",required:""},null,512),[[c["F"],q.vehicle.vehicleNo]]),a]),Object(c["h"])("div",s,[Object(c["J"])(Object(c["h"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return q.vehicle.vehicleModel=e}),type:"text",class:"form-control form-control-lg",id:"vehicle-no",placeholder:"Model",required:""},null,512),[[c["F"],q.vehicle.vehicleModel]]),u]),Object(c["h"])("div",p,[Object(c["J"])(Object(c["h"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return q.vehicle.vehicleKm=e}),type:"number",class:"form-control form-control-lg text-uppercase",id:"vehicle-km",placeholder:"KM",required:""},null,512),[[c["F"],q.vehicle.vehicleKm]]),d]),Object(c["h"])("div",b,[Object(c["J"])(Object(c["h"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return q.vehicle.serviceDate=e}),type:"Date",class:"form-control form-control-lg text-uppercase",id:"vehicle-service-date",placeholder:"Service Date",required:""},null,512),[[c["F"],q.vehicle.serviceDate]]),f]),Object(c["h"])("div",m,[h,Object(c["h"])("div",v,[Object(c["h"])("div",g,[Object(c["J"])(Object(c["h"])("input",{class:"form-check-input",type:"radio",name:"serviceType",id:"PS-service",value:"PS","onUpdate:modelValue":t[4]||(t[4]=function(e){return q.vehicle.serviceType=e})},null,512),[[c["E"],q.vehicle.serviceType]]),j]),Object(c["h"])("div",y,[Object(c["J"])(Object(c["h"])("input",{class:"form-check-input",type:"radio",name:"serviceType",id:"RR-service",value:"RR","onUpdate:modelValue":t[5]||(t[5]=function(e){return q.vehicle.serviceType=e})},null,512),[[c["E"],q.vehicle.serviceType]]),O])])]),this.vehicle.vehicleNo&&this.vehicle.serviceType?(Object(c["t"])(),Object(c["g"])(c["a"],{key:0},[Object(c["h"])("div",k,[Object(c["J"])(Object(c["h"])("input",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return q.vehicle.customerName=e}),type:"text",class:"form-control form-control-lg",id:"customer-name",placeholder:"HRXXXXXX",required:""},null,512),[[c["F"],q.vehicle.customerName]]),w]),Object(c["h"])("div",x,[Object(c["J"])(Object(c["h"])("input",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return q.vehicle.phoneNumber=e}),type:"tel",maxlength:"10",minlength:"10",class:"form-control form-control-lg",id:"phone-no",placeholder:"HRXXXXXX"},null,512),[[c["F"],q.vehicle.phoneNumber]]),N]),Object(c["h"])("div",F,[Object(c["J"])(Object(c["h"])("input",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return q.vehicle.billNumber=e}),type:"number",required:"",class:"form-control form-control-lg",id:"bill-no",placeholder:"HRXXXXXX"},null,512),[[c["F"],q.vehicle.billNumber]]),X]),Object(c["h"])("div",S,[Object(c["J"])(Object(c["h"])("input",{"onUpdate:modelValue":t[9]||(t[9]=function(e){return q.vehicle.billAmount=e}),type:"number",class:"form-control form-control-lg",id:"bill-amount",placeholder:"HRXXXXXX"},null,512),[[c["F"],q.vehicle.billAmount]]),R]),q.vehicle.billNumber?(Object(c["t"])(),Object(c["g"])("div",U,[A,Object(c["h"])("input",{type:"file",class:"form-control form-control-lg",id:"bill-photo",placeholder:"HRXXXXXX",onChange:t[10]||(t[10]=function(e){return V.uploadImage(e)})},null,32)])):Object(c["f"])("",!0)],64)):Object(c["f"])("",!0),q.billPreview?(Object(c["t"])(),Object(c["g"])("div",E,[Object(c["h"])("img",{class:"img-fluid img-thumbnail",src:q.billPreview,alt:""},null,8,I)])):Object(c["f"])("",!0),q.vehicle.vehicleNo&&q.vehicle.serviceType?(Object(c["t"])(),Object(c["g"])("div",P,[Object(c["h"])("button",C,[q.loading&&!q.vehicle.billPhoto?(Object(c["t"])(),Object(c["g"])("span",$)):Object(c["f"])("",!0),J])])):Object(c["f"])("",!0)],544)])])])}var q=r("1da1"),V=(r("96cf"),r("4d6e")),M=(r("72bf"),r("8017"),{data:function(){return{vehicle:{vehicleNo:"",vehicleModel:"",vehicleKm:"",customerName:"",phoneNumber:"",billNumber:"",billAmount:"",billPhoto:"",serviceDate:"",serviceType:""},loading:!1,billPreview:""}},created:function(){var e=this.$route.query;e.vehicleNo&&(this.vehicle.vehicleNo=e.vehicleNo,this.vehicle.vehicleModel=e.vehicleModel)},methods:{uploadImage:function(e){var t=this;this.loading=!0;var r=e.target.files[0],c=new FileReader;c.readAsDataURL(r),c.onload=function(e){t.billPreview=e.target.result,t.vehicle.billPhoto=e.target.result,t.compress(t.vehicle.billPhoto),t.loading=!1}},compress:function(e){this.vehicle.billPhoto=e||encode},addService:function(){var e=this;return Object(q["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,V["a"].post("/vehicles/addService",e.vehicle);case 4:r=t.sent,r.data.success?(alert("Service Added"),e.$router.push({path:"/service/"+e.vehicle.vehicleNo}),e.loading=!1,e.vehicle={},e.billPreview=""):(alert("Something went wrong!"),e.loading=!1,e.vehicle={},e.billPreview=""),t.next=14;break;case 8:t.prev=8,t.t0=t["catch"](1),alert(t.t0.response),e.loading=!1,e.vehicle={},e.billPreview="";case 14:case"end":return t.stop()}}),t,null,[[1,8]])})))()}}}),D=r("6b0d"),B=r.n(D);const H=B()(M,[["render",T]]);t["default"]=H},6453:function(e,t,r){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())},"72bf":function(e,t,r){"use strict";const c=r("6453"),o=r("f234"),l=r("f32c"),n=r("7348"),i=e=>null===e||void 0===e,a=Symbol("encodeFragmentIdentifier");function s(e){switch(e.arrayFormat){case"index":return t=>(r,c)=>{const o=r.length;return void 0===c||e.skipNull&&null===c||e.skipEmptyString&&""===c?r:null===c?[...r,[d(t,e),"[",o,"]"].join("")]:[...r,[d(t,e),"[",d(o,e),"]=",d(c,e)].join("")]};case"bracket":return t=>(r,c)=>void 0===c||e.skipNull&&null===c||e.skipEmptyString&&""===c?r:null===c?[...r,[d(t,e),"[]"].join("")]:[...r,[d(t,e),"[]=",d(c,e)].join("")];case"colon-list-separator":return t=>(r,c)=>void 0===c||e.skipNull&&null===c||e.skipEmptyString&&""===c?r:null===c?[...r,[d(t,e),":list="].join("")]:[...r,[d(t,e),":list=",d(c,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(c,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?c:(o=null===o?"":o,0===c.length?[[d(r,e),t,d(o,e)].join("")]:[[c,d(o,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,c)=>void 0===c||e.skipNull&&null===c||e.skipEmptyString&&""===c?r:null===c?[...r,d(t,e)]:[...r,[d(t,e),"=",d(c,e)].join("")]}}function u(e){let t;switch(e.arrayFormat){case"index":return(e,r,c)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===c[e]&&(c[e]={}),c[e][t[1]]=r):c[e]=r};case"bracket":return(e,r,c)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==c[e]?c[e]=[].concat(c[e],r):c[e]=[r]:c[e]=r};case"colon-list-separator":return(e,r,c)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==c[e]?c[e]=[].concat(c[e],r):c[e]=[r]:c[e]=r};case"comma":case"separator":return(t,r,c)=>{const o="string"===typeof r&&r.includes(e.arrayFormatSeparator),l="string"===typeof r&&!o&&b(r,e).includes(e.arrayFormatSeparator);r=l?b(r,e):r;const n=o||l?r.split(e.arrayFormatSeparator).map(t=>b(t,e)):null===r?r:b(r,e);c[t]=n};case"bracket-separator":return(t,r,c)=>{const o=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!o)return void(c[t]=r?b(r,e):r);const l=null===r?[]:r.split(e.arrayFormatSeparator).map(t=>b(t,e));void 0!==c[t]?c[t]=[].concat(c[t],l):c[t]=l};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}function p(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function d(e,t){return t.encode?t.strict?c(e):encodeURIComponent(e):e}function b(e,t){return t.decode?o(e):e}function f(e){return Array.isArray(e)?e.sort():"object"===typeof e?f(Object.keys(e)).sort((e,t)=>Number(e)-Number(t)).map(t=>e[t]):e}function m(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function h(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}function v(e){e=m(e);const t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function g(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function j(e,t){t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t),p(t.arrayFormatSeparator);const r=u(t),c=Object.create(null);if("string"!==typeof e)return c;if(e=e.trim().replace(/^[?#&]/,""),!e)return c;for(const o of e.split("&")){if(""===o)continue;let[e,n]=l(t.decode?o.replace(/\+/g," "):o,"=");n=void 0===n?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?n:b(n,t),r(b(e,t),n,c)}for(const o of Object.keys(c)){const e=c[o];if("object"===typeof e&&null!==e)for(const r of Object.keys(e))e[r]=g(e[r],t);else c[o]=g(e,t)}return!1===t.sort?c:(!0===t.sort?Object.keys(c).sort():Object.keys(c).sort(t.sort)).reduce((e,t)=>{const r=c[t];return Boolean(r)&&"object"===typeof r&&!Array.isArray(r)?e[t]=f(r):e[t]=r,e},Object.create(null))}t.extract=v,t.parse=j,t.stringify=(e,t)=>{if(!e)return"";t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t),p(t.arrayFormatSeparator);const r=r=>t.skipNull&&i(e[r])||t.skipEmptyString&&""===e[r],c=s(t),o={};for(const n of Object.keys(e))r(n)||(o[n]=e[n]);const l=Object.keys(o);return!1!==t.sort&&l.sort(t.sort),l.map(r=>{const o=e[r];return void 0===o?"":null===o?d(r,t):Array.isArray(o)?0===o.length&&"bracket-separator"===t.arrayFormat?d(r,t)+"[]":o.reduce(c(r),[]).join("&"):d(r,t)+"="+d(o,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[r,c]=l(e,"#");return Object.assign({url:r.split("?")[0]||"",query:j(v(e),t)},t&&t.parseFragmentIdentifier&&c?{fragmentIdentifier:b(c,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0,[a]:!0},r);const c=m(e.url).split("?")[0]||"",o=t.extract(e.url),l=t.parse(o,{sort:!1}),n=Object.assign(l,e.query);let i=t.stringify(n,r);i&&(i="?"+i);let s=h(e.url);return e.fragmentIdentifier&&(s="#"+(r[a]?d(e.fragmentIdentifier,r):e.fragmentIdentifier)),`${c}${i}${s}`},t.pick=(e,r,c)=>{c=Object.assign({parseFragmentIdentifier:!0,[a]:!1},c);const{url:o,query:l,fragmentIdentifier:i}=t.parseUrl(e,c);return t.stringifyUrl({url:o,query:n(l,r),fragmentIdentifier:i},c)},t.exclude=(e,r,c)=>{const o=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return t.pick(e,o,c)}},7348:function(e,t,r){"use strict";e.exports=function(e,t){for(var r={},c=Object.keys(e),o=Array.isArray(t),l=0;l<c.length;l++){var n=c[l],i=e[n];(o?-1!==t.indexOf(n):t(n,i,e))&&(r[n]=i)}return r}},f234:function(e,t,r){"use strict";var c="%[a-f0-9]{2}",o=new RegExp(c,"gi"),l=new RegExp("("+c+")+","gi");function n(e,t){try{return decodeURIComponent(e.join(""))}catch(o){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),c=e.slice(t);return Array.prototype.concat.call([],n(r),n(c))}function i(e){try{return decodeURIComponent(e)}catch(c){for(var t=e.match(o),r=1;r<t.length;r++)e=n(t,r).join(""),t=e.match(o);return e}}function a(e){var t={"%FE%FF":"��","%FF%FE":"��"},r=l.exec(e);while(r){try{t[r[0]]=decodeURIComponent(r[0])}catch(s){var c=i(r[0]);c!==r[0]&&(t[r[0]]=c)}r=l.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),n=0;n<o.length;n++){var a=o[n];e=e.replace(new RegExp(a,"g"),t[a])}return e}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return a(e)}}},f32c:function(e,t,r){"use strict";e.exports=(e,t)=>{if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}}}]);
//# sourceMappingURL=chunk-df5d95b8.da0eae3b.js.map